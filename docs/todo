TODO
====

Before an initial release
-------------------------

 - Python client:
   - document how to build and run searches (both doing the search explicitly,
     and implicitly by slicing, iteration or subscription).
   - clean up all todos in python client documentation.

Next release
------------

 - Document categorisers

 - Document category hierarchies

 - Implement and document orderingings.

 - Document pipes.  Improve efficiency of pipes by reducing copying of results.

 - Add URLs and tasks for setting and updating category parent-child
   relationships.
    - Python client: add query types for searching category.

 - Test passing double values (both positive and negative) to timestamp and
   double fields.

 - Make query_phrase support window parameter, for phrase size.

   - Python client: uncomment the test of setting window size in query_text.

 - Make logging do writes asynchronously.  (Currently, a log call acquires the
   logger mutex, then does the write, blocking all other threads.  Instead, log
   messages should be added to a queue, and a logger thread should write them
   to disk, syslog, or whatever the appropriate target is.)

 - If the client doesn't send a Host header, we need to synthesise one so that
   Location headers in responses are valid.


Further future
--------------

 - Sorting:
   - Add control of the behaviour of missing entries when sorting (ie, should
     missing mean sort at end, or sort at start).

   - Allow sorting by items other than the first in a slot. (eg, by the item at
     index N, and support negative subscripting).

   - Add sort_by support for multiple keys.

 - Allow a name to be associated with a search (or perhaps a list of names),
   which will be recorded in logs for later analysis.

 - Allow Occur and CoOccur handlers to be given a group name, instead of a prefix.

 - Add faceting support.

 - More options about where to log to (logging to files, syslog, support for
   log rotation setups).

 - Needs to be possible to long-poll for checkpoints when waiting for them to
   be reached.  Probably with a timeout, defaulting to 30 seconds.

 - Fix inconsistent namespacing used in code (RestPose is used in some places,
   but not others, for no particular reason).

 - Deleting a collection should wait for all readers on that collection to
   finish, to avoid problems on windows (and to handle deletes more
   gracefully).

 - Position data for multiple text fields should not overlap - and there should
   be a setting to define the spacing.

 - Add geospatial index support.

 - Add collapse support.

 - Add ability to set weighting scheme / parameters.

 - Add ability to set wdfinc for text fields.

 - Add interface for classifying a language.

 - Python bindings - add an easy way to be notified of the queries performed in
   a session, and document how to hook that into Django's debug views.

 - Make searches across all types in a collection more efficient, by sharing
   the parts of the query tree which are the same for multiple types.

To think about
--------------

 - Document -> JSON formatting should have two flavours: a "raw" mode, which
   doesn't unpack the document data, and a higher level mode which unpacks the
   document data, and also splits terms into prefix and value stored.

 - Add way of setting raw Xapian documents, and of performing raw Xapian
   queries.
